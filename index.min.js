(()=>{"use strict";var e={705:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o="",n=void 0!==t[5];return t[4]&&(o+="@supports (".concat(t[4],") {")),t[2]&&(o+="@media ".concat(t[2]," {")),n&&(o+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),o+=e(t),n&&(o+="}"),t[2]&&(o+="}"),t[4]&&(o+="}"),o})).join("")},t.i=function(e,o,n,c,d){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(n)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(i[l]=!0)}for(var r=0;r<e.length;r++){var s=[].concat(e[r]);n&&i[s[0]]||(void 0!==d&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=d),o&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=o):s[2]=o),c&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=c):s[4]="".concat(c)),t.push(s))}},t}},738:e=>{e.exports=function(e){return e[1]}},9:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(738),c=o.n(n),d=o(705),i=o.n(d)()(c());i.push([e.id,"html,body{margin:0;padding:0;width:100vw;height:100vh;overflow:hidden;background-color:#fff;display:flex;align-items:center;justify-content:center}#iframe{width:100vw;height:100vh;border:0;display:none}#clear{transition:all .5s;opacity:.65;position:fixed;bottom:0;left:calc(50% + 260px);font-size:12px;color:#989a9c;padding:0 14px;transform:translateX(-50%);height:40px;line-height:40px;border-radius:6px 6px 0 0;backdrop-filter:blur(12px);background-color:rgba(35,37,39,0.85);cursor:pointer;display:none}#clear:hover{opacity:1}",""]);const a=i}},t={};function o(n){var c=t[n];if(void 0!==c)return c.exports;var d=t[n]={id:n,exports:{}};return e[n](d,d.exports,o),d.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{const e=URL.createObjectURL(new Blob(["(".concat((function(){!function e(t){if(t.isInitSketchMeasureDoc)return;t.isInitSketchMeasureDoc=!0;var o=function(){!function(e){e.querySelectorAll("*").forEach((function(e){e.isInitSketchMeasureNode||(e.isInitSketchMeasureNode=!0,e.addEventListener("mouseenter",(function(){window.parent.postMessage({msg:"updateRulers",payload:e.getBoundingClientRect()},"*")})),e.addEventListener("mouseleave",(function(){window.parent.postMessage({msg:"updateRulers",payload:{width:0,height:0,top:0,left:0}},"*")})))}))}(t),document.querySelectorAll("iframe").forEach((function(t){t.contentDocument&&e(t.contentDocument)}))};o(),new MutationObserver(o).observe(t.documentElement,{attributes:!0,childList:!0,subtree:!0})}(document)}),")();")],{type:"text/javascript"}));const t=URL.createObjectURL(new Blob(["(".concat((function(){return setTimeout((function(){var e,t=null===(e=document.getElementsByClassName("screen-viewer-inner"))||void 0===e?void 0:e[0],o=document.getElementById("screen"),n=document.getElementById("rulers"),c=document.getElementById("flow-mode");if(t&&o&&n&&c){var d=function(e,t){Object.keys(t).forEach((function(o){e.style[o]=t[o]}))},i=document.createElement("style");i.innerHTML=".layer{z-index: 1;}",document.head.appendChild(i);var a=document.createElement("iframe");d(a,{border:"none",position:"absolute"}),a.width="100%",a.height="100%",a.src=window.top.location.href,a.onload=function(){if(a.contentDocument){var e=document.createElement("script");e.src=window.top.sketchMeasureCompare.rulers,a.contentDocument.head.appendChild(e)}};var l=document.createElement("input");d(l,{border:"none",outline:"none",height:"20px"}),l.placeholder="url",l.value=a.src,l.oninput=function(e){a.src=e.target.value},l.onkeyup=function(e){"Enter"===e.key&&(a.src="",a.src=e.target.value)};var r=o.cloneNode(!1);d(r,{backgroundImage:"",overflow:"hidden"});var s=n.cloneNode(!0);s.appendChild(s.childNodes[0].cloneNode(!0)),s.appendChild(s.childNodes[1].cloneNode(!0)),d(s.childNodes[0],{border:"none",borderLeft:"1px dashed #419bf9",width:"0px"}),d(s.childNodes[1],{border:"none",borderTop:"1px dashed #419bf9",height:"0px"}),d(s.childNodes[2],{border:"none",borderRight:"1px dashed #419bf9",width:"0px"}),d(s.childNodes[3],{border:"none",borderBottom:"1px dashed #419bf9",height:"0px"});var p=n.cloneNode(!0);p.appendChild(p.childNodes[0].cloneNode(!0)),p.appendChild(p.childNodes[1].cloneNode(!0)),d(p.childNodes[0],{border:"none",borderLeft:"1px dashed #ee6723",width:"0px"}),d(p.childNodes[1],{border:"none",borderTop:"1px dashed #ee6723",height:"0px"}),d(p.childNodes[2],{border:"none",borderRight:"1px dashed #ee6723",width:"0px"}),d(p.childNodes[3],{border:"none",borderBottom:"1px dashed #ee6723",height:"0px"});var h=document.getElementById("ld").cloneNode(!0),u=document.getElementById("td").cloneNode(!0),f=document.getElementById("rd").cloneNode(!0),m=document.getElementById("bd").cloneNode(!0);r.appendChild(a),r.appendChild(s),r.appendChild(p),r.appendChild(h),r.appendChild(u),r.appendChild(f),r.appendChild(m),t.appendChild(l),t.appendChild(r);var v=function(){var e,t,i=o.style,v=i.width,y=i.height,b=i.marginTop;v!==r.style.width&&(a.src="",a.src=l.value),d(r,{width:v,height:y,marginTop:b,marginLeft:c.checked?0:"".concat(parseFloat(v)/2+10,"px"),opacity:c.checked?.5:1}),r.className=o.className,d(l,{width:v,marginTop:"-".concat(parseFloat(y)/2+20+10,"px"),marginLeft:c.checked?0:"".concat(parseFloat(v)/2+10,"px")}),l.className=o.className,d(s,n.style),d(s.childNodes[0],{left:n.childNodes[0].style.left}),d(s.childNodes[1],{top:n.childNodes[1].style.top}),d(s.childNodes[2],{left:"".concat(parseFloat(n.childNodes[0].style.left)+parseFloat(n.childNodes[0].style.width),"px")}),d(s.childNodes[3],{top:"".concat(parseFloat(n.childNodes[1].style.top)+parseFloat(n.childNodes[1].style.height),"px")});var g=null===(e=document.getElementsByClassName("selected"))||void 0===e||null===(t=e[0])||void 0===t?void 0:t.style;g&&(d(p,{display:""}),d(p.childNodes[0],{left:g.left}),d(p.childNodes[1],{top:g.top}),d(p.childNodes[2],{left:"".concat(parseFloat(g.left)+parseFloat(g.width),"px")}),d(p.childNodes[3],{top:"".concat(parseFloat(g.top)+parseFloat(g.height),"px")})),c.checked&&(d(n,{display:"none"}),d(s,{display:"none"}),d(p,{display:"none"}),d(h,{display:"none"}),d(u,{display:"none"}),d(f,{display:"none"}),d(m,{display:"none"}))};v(),window.addEventListener("message",(function(e){var t=e.data;if(t&&t.msg){var o=t.msg,i=t.payload;if("updateRulers"===o)if(d(n,{display:c.checked?"none":""}),d(n.childNodes[0],{left:"".concat(i.left,"px"),width:"".concat(i.width,"px")}),d(n.childNodes[1],{top:"".concat(i.top,"px"),height:"".concat(i.height,"px")}),d(s,{display:c.checked?"none":""}),d(s.childNodes[0],{left:"".concat(i.left,"px")}),d(s.childNodes[1],{top:"".concat(i.top,"px")}),d(s.childNodes[2],{left:"".concat(i.left+i.width,"px")}),d(s.childNodes[3],{top:"".concat(i.top+i.height,"px")}),"none"!==p.style.display){var a=parseFloat(p.childNodes[0].style.left),l=parseFloat(p.childNodes[1].style.top),r=parseFloat(p.childNodes[2].style.left),v=parseFloat(p.childNodes[3].style.top),y=i.left,b=i.top,g=i.left+i.width,x=i.top+i.height,w=y||b||g||x;d(h,g<=a?{display:w?"":"none",left:"".concat(g,"px"),top:"".concat(l+(v-l)/2,"px"),width:"".concat(a-g,"px")}:{display:y<r&&w?"":"none",left:"".concat(y<a?y:a,"px"),top:"".concat(l+(v-l)/2,"px"),width:"".concat(Math.abs(y-a),"px")}),h.childNodes[0].dataset.width=h.style.width,d(f,y>=r?{display:w?"":"none",left:"".concat(r,"px"),top:"".concat(l+(v-l)/2,"px"),width:"".concat(y-r,"px")}:{display:g>a&&w?"":"none",left:"".concat(g>r?r:g,"px"),top:"".concat(l+(v-l)/2,"px"),width:"".concat(Math.abs(g-r),"px")}),f.childNodes[0].dataset.width=f.style.width,d(u,x<=l?{display:w?"":"none",left:"".concat(a+(r-a)/2,"px"),top:"".concat(x,"px"),height:"".concat(l-x,"px")}:{display:b<v&&w?"":"none",left:"".concat(a+(r-a)/2,"px"),top:"".concat(b<l?b:l,"px"),height:"".concat(Math.abs(b-l),"px")}),u.childNodes[0].dataset.height=u.style.height,d(m,b>=v?{display:w?"":"none",left:"".concat(a+(r-a)/2,"px"),top:"".concat(v,"px"),height:"".concat(b-v,"px")}:{display:x>l&&w?"":"none",left:"".concat(a+(r-a)/2,"px"),top:"".concat(x>v?v:x,"px"),height:"".concat(Math.abs(x-v),"px")}),m.childNodes[0].dataset.height=m.style.height}}})),document.onkeyup=function(e){"c"!==e.key||c.checked||(d(p,{display:""}),d(p.childNodes[0],{left:s.childNodes[0].style.left}),d(p.childNodes[1],{top:s.childNodes[1].style.top}),d(p.childNodes[2],{left:s.childNodes[2].style.left}),d(p.childNodes[3],{top:s.childNodes[3].style.top}),t.click())},new MutationObserver(v).observe(o,{attributes:!0,childList:!0,subtree:!0})}}),220)}),")();")],{type:"text/javascript"}));const n=URL.createObjectURL(new Blob(["(".concat((function(){var e=document.getElementById("uploader"),t=document.getElementById("iframe"),o=document.getElementById("placeholder"),n=document.getElementById("clear"),c=[];e.onchange=function(d){var i=d.target.files;if(i.length){if(!!!(c=Array.from(i)).find((function(e){return"index.html"===e.name})))return e.value="",void alert("UI: index.html Not Found!");var a=(c=c.map((function(e){return{name:e.name,path:e.webkitRelativePath.replace(/^.*?\//,""),url:URL.createObjectURL(e)}}))).find((function(e){return"index.html"===e.name}));a&&fetch(a.url).then((function(e){return e.text()})).then((function(e){return c.forEach((function(t){var o=t.path.split("/").map(encodeURIComponent).join("/");e=e.replace(o,"".concat(t.url,"#"))})),e=e.replace(/\.\/blob/g,"blob")})).then((function(e){return e=e.replace("</head>",'<script src="'.concat(window.top.sketchMeasureCompare.sketchMeasure,'"><\/script></head>'))})).then((function(e){var c=new Blob([e],{type:"text/html"}),d=URL.createObjectURL(c);t.src=d,o.style.display="none",t.style.display="block",n.style.display="block"}))}};var d=function(){URL.revokeObjectURL(t.src),c.forEach((function(e){URL.revokeObjectURL(e.url)})),c=[],t.src="",e.value="",o.style.display="block",t.style.display="none",n.style.display="none"};document.addEventListener("beforeunload",d),n.onclick=d}),")();")],{type:"text/javascript"}));var c=o(9);const d=URL.createObjectURL(new Blob([c.Z],{type:"text/css"}));const i='<!DOCTYPE html> <html lang="zh-CN"> <head> <meta charset="UTF-8"/> <meta http-equiv="X-UA-Compatible" content="IE=edge"/> <meta name="viewport" content="width=device-width,initial-scale=1"/> <title>Sketch Measure Compare</title> </head> <body> <div id="placeholder"> <div>Please Choose UI Folder!</div> <br/> <input type="file" webkitdirectory id="uploader"/> </div> <div id="clear">CLEAR UI</div> <iframe id="iframe"></iframe> <script src="$FUNC"><\/script> </body> </html> ';var a=URL.createObjectURL(new Blob(["(".concat((function(){var e=document.createElement("script");e.src=window.top.sketchMeasureCompare.js,document.body.appendChild(e);var t=document.createElement("link");t.rel="stylesheet",t.href=window.top.sketchMeasureCompare.css,document.head.appendChild(t)}),")();")],{type:"text/javascript"}));const l=URL.createObjectURL(new Blob([i.replace("$FUNC",a)],{type:"text/html"})),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.zIndex,o=void 0===t?1e4:t,n=document.createElement("iframe"),c=function(e,t){Object.keys(t).forEach((function(o){e.style[o]=t[o]}))};c(n,{width:"100vw",height:"100vh",position:"fixed",top:"0",left:"0",border:"none",zIndex:"".concat(o),display:"none"});var d=document.createElement("div");c(d,{position:"fixed",zIndex:"".concat(o),width:"100vw",height:"0",top:"0",left:"0"});var i=document.createElement("div");c(i,{position:"fixed",zIndex:"".concat(o),right:"0",bottom:"40px",backgroundColor:"#04BE02",padding:"2px 14px",borderRadius:"3px",color:"#fff",height:"26px",lineHeight:"26px",fontSize:"16px",userSelect:"none",webkitUserSelect:"none"}),i.innerText="UI";var a=0,l=0,r=!1,s=0,p=0,h=0,u=0;i.onclick=function(e){var t=i.getBoundingClientRect(),o=t.left,c=t.top;(Math.abs(o-s)<1||Math.abs(c-p)<1||!(null!=e&&e.isTrusted))&&(n.style.display="none"===n.style.display?"block":"none")};var f=function(e){var t,o,n,c,f,m;d.style.height="100vh";var v=i.getBoundingClientRect(),y=v.left,b=v.top,g=v.width,x=v.height,w=d.getBoundingClientRect(),N=w.width,k=w.height;s=y,p=b,h=k,u=N;var C=null!==(t=null==e||null===(o=e.touches)||void 0===o||null===(n=o[0])||void 0===n?void 0:n.clientX)&&void 0!==t?t:null==e?void 0:e.clientX,E=null!==(c=null==e||null===(f=e.touches)||void 0===f||null===(m=f[0])||void 0===m?void 0:m.clientY)&&void 0!==c?c:null==e?void 0:e.clientY;a=C-s-g,l=E-p-x,r=!0},m=function(){d.style.height="0",r=!1},v=function(e){if(e.preventDefault(),r){var t,o,n,c,d,s,p=null!==(t=null==e||null===(o=e.touches)||void 0===o||null===(n=o[0])||void 0===n?void 0:n.clientX)&&void 0!==t?t:null==e?void 0:e.clientX,f=null!==(c=null==e||null===(d=e.touches)||void 0===d||null===(s=d[0])||void 0===s?void 0:s.clientY)&&void 0!==c?c:null==e?void 0:e.clientY;i.style.right=u-p+a+"px",i.style.bottom=h-f+l+"px"}};i.onmousedown=f,d.onmousemove=v,d.onmouseup=m,i.ontouchstart=f,d.ontouchmove=v,d.ontouchend=m,d.appendChild(i),n.src=window.top.sketchMeasureCompare.html,document.body.appendChild(n),document.body.appendChild(d)};function s(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,o){return t&&s(e.prototype,t),o&&s(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}var h=p((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init=r}));if(h.prototype.rulers=e,h.prototype.sketchMeasure=t,h.prototype.js=n,h.prototype.css=d,h.prototype.html=l,!window.top.sketchMeasureCompare){var u=new h;window.top.sketchMeasureCompare=u}})()})();