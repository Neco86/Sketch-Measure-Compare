(()=>{function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(){var t=document.getElementById("uploader"),n=document.getElementById("iframe"),r=document.getElementById("placeholder"),o=document.getElementById("clear"),a=[];t.onchange=function(c){var l,i=c.target.files;if(i.length){if(!(l=i,a=function(t){if(Array.isArray(t))return e(t)}(l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(l)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).find((function(e){return"index.html"===e.name})))return t.value="",void alert("UI: index.html Not Found!");var u=(a=a.map((function(e){return{name:e.name,path:e.webkitRelativePath.replace(/^.*?\//,""),url:URL.createObjectURL(e)}}))).find((function(e){return"index.html"===e.name}));u&&fetch(u.url).then((function(e){return e.text()})).then((function(e){return a.forEach((function(t){var n=t.path.split("/").map(encodeURIComponent).join("/");e=e.replace(n,"".concat(t.url,"#"))})),e=e.replace(/\.\/blob/g,"blob")})).then((function(e){return e.replace("</head>",'<script src="https://neco86.github.io/Sketch-Measure-Compare/sketchMeasure.min.js"><\/script></head>')})).then((function(e){var t=new Blob([e],{type:"text/html"}),a=URL.createObjectURL(t);n.src=a,r.style.display="none",n.style.display="block",o.style.display="block"}))}};var c=function(){URL.revokeObjectURL(n.src),a.forEach((function(e){URL.revokeObjectURL(e.url)})),a=[],n.src="",t.value="",r.style.display="block",n.style.display="none",o.style.display="none"};document.addEventListener("beforeunload",c),o.onclick=c}()})();